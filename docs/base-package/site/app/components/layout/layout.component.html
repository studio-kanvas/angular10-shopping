<nav class="navbar navbar-dark navbar-expand-lg bg-primary">
  <div class="container-fluid">
    <a class="navbar-brand" routerLink="/">
      <svg version="1.1" class="icon d-inline-block align-top" xmlns="http://www.w3.org/2000/svg"
           xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32">
        <path stroke="currentColor" stroke-width="2" stroke-linecap="round" fill="none" stroke-linejoin="round"
              d="M2,4 L6,4 L10,20 L21,20 L25,10 L8,10 M13,10 L13,20 M18,20 L18,10 M10,15 L23,15"/>
        <circle fill="currentColor" cx="11" cy="24" r="2"/>
        <circle fill="currentColor" cx="21" cy="24" r="2"/>
      </svg>
      NgShoppingCart
    </a>
    <button class="navbar-toggler" type="button" (click)="toggleNavbar()"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="navbar-collapse collapse" id="navbarSupportedContent" [ngbCollapse]="navbarOpen">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item d-none d-sm-block" #drop="ngbDropdown" *ngFor="let item of navbar" ngbDropdown
            [autoClose]="item.submenu && item.submenu[0].section ? 'outside' : true">
          <ng-container *ngIf="item.submenu">
            <a class="nav-link" ngbDropdownToggle id="navbarDropdown" role="button" style="cursor: pointer"
               aria-haspopup="true" aria-expanded="false">
              {{item.title}}
            </a>
            <div ngbDropdownMenu aria-labelledby="navbarDropdown">
              <ng-container *ngFor="let m of item.submenu">
                <a class="dropdown-item" [routerLink]="[m.path]" [routerLinkActive]="'active'" *ngIf="!m.section">
                  {{m.title}}
                </a>
                <ng-container *ngIf="m.section">
                  <div class="dropdown-item submenu">
                    <div class="dropright" ngbDropdown placement="right-top">
                      <a aria-haspopup="true" ngbDropdownToggle [id]="m.title" aria-expanded="false">
                        {{m.title}}
                      </a>
                      <div ngbDropdownMenu>
                        <a (click)="drop.close()" *ngFor="let i of m.items" [routerLink]="i.path" class="dropdown-item"
                           [routerLinkActive]="'active'">
                          {{i.menu}}
                        </a>
                      </div>
                    </div>
                  </div>
                </ng-container>
              </ng-container>
            </div>
          </ng-container>
          <ng-container *ngIf="!item.submenu">
            <a class="nav-link" [routerLink]="[item.path]" [routerLinkActive]="'active'">
              {{item.menu}}
            </a>
          </ng-container>
        </li>
        <ng-container *ngFor="let item of navbar">
          <li class="text-white d-block d-sm-none">
          <span class="nav-item">
            {{item.title}}
          </span>
          </li>
          <li class="nav-item d-block d-sm-none" *ngFor="let m of item.submenu">
            <a class="nav-link" [routerLink]="[m.path]" [routerLinkActive]="'active'">
              {{m.title}}
            </a>
          </li>
        </ng-container>
      </ul>
      <ul class="navbar-nav d-none d-sm-block">
        <li class="navbar-text">
          <a href="{{repoUrl}}" class="github-link">
            <span class="github-icon" [innerHTML]="github"></span>
            v{{version}}
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>
<div class="container-fluid">
  <div class="row">
    <div class="col-md-3 col-lg-2" *ngIf="needsSidebar">
      <doc-sidebar></doc-sidebar>
    </div>
    <div [ngClass]="{'col-md-12': !needsSidebar, 'col-md-9 col-lg-10': needsSidebar}">
      <div style="padding: 20px">
        <ng-content></ng-content>
      </div>
    </div>
  </div>
</div>


